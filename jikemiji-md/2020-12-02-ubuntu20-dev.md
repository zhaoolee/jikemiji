---
title: 在Ubuntu20.04虚拟机搭建开发环境
---





最近做开发，收到一个只能在Linux运行的二进制文件，于是在本地开启了Linux虚拟机运行二进制程序。

通过虚拟机的文件夹共享功能，我可以在Windows写代码，在Linux实时运行程序。

![image-20201201231341669](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201201231341669.png)

整套折腾下来，我对Mac的依赖降低了，以后没有Mac, 我也可以用Windows运行Linux做开发，而不用去和Windows各种玄学的环境变量配置去对线。



为虚拟机Linux安装开发环境还有一个好处，你可以把配置好的Linux开发环境放到任何一台PC或Mac或Linux主机上运行，换新电脑也不用重装环境~



折腾之路上，我遇到很多坑，这里记录一下，漂移过弯的最佳路径。





## 环境配置

- 主机环境： Windows10     32GB内存（其实8GB也够用）
- 虚拟机软件 Vmware WorkStation 16 下载地址  https://zhaooolee.cowtransfer.com/s/46acd06559f04b   激活码 ZF3R0-FHED2-M80TY-8QYGC-NPKYF

- 虚拟机镜像 Ubuntu 20.04 下载地址 https://zhaooolee.cowtransfer.com/s/525fe6c45a2743



![image-20201201224150700](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201201224150700.png)



## 虚拟机安装Linux镜像的一些技巧



- 默认选择英语安装，这样bash路径都会保持英文（当然你可以在安装完成后，再切换到中文）
- 给虚拟机分配4GB内存，开发够用了!
- 给Ubuntu做美化挺费时间的，如果喜欢高颜值，可以直接选择Deepin







## 更换阿里源


```
// 备份源
sudo cp /etc/apt/sources.list  /etc/apt/sources.list_backup
// 编辑源
sudo vi /etc/apt/sources.list
```

将sources.list内的内容替换为以下阿里源

```
deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
```
更新镜像

```
sudo apt update
```

安装vim

```
sudo apt install vim
```


安装git


```
sudo apt install git
```


安装zsh


```
sudo apt install zsh
```


安装oh-my-zsh

```
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```


安装nvm

```
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash
```

安装nodejs 14

```
nvm install 14.0.0
```

使用nodejs 14

```
nvm use 14.0.0
```

安装npm

```
sudo apt install npm
```

如果 npm install  出现错误，则运行以下命令

```
// INSTALL GLOBAL NPM PACKAGES
npm config set unsafe-perm true

// CLEAN CACHE
npm cache clean

// BYPASS SYMLINK ISSUES
npm install --no-bin-links
```

