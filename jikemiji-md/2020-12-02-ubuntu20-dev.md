---
title: 在Ubuntu20.04虚拟机搭建Node.js开发环境
---



最近做开发，收到一个只能在Linux运行的二进制文件，于是在本地开启了Linux虚拟机运行二进制程序。

通过虚拟机的文件夹共享功能，我可以在Windows写代码，在Linux实时运行程序。

![image-20201201231341669](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201201231341669.png)



整套折腾下来，我对Mac的依赖降低了，以后没有Mac, 我也可以用Windows运行Linux做开发，而不用去和Windows各种玄学的环境变量配置去对线。



为虚拟机Linux安装开发环境还有一个好处，你可以把配置好的Linux开发环境放到任何一台PC或Mac或Linux主机上运行，换新电脑也不用重装环境~



折腾之路上，我遇到很多坑，这里记录一下，漂移过弯的最佳路径。



## 环境配置

- 主机环境： Windows10     32GB内存（其实8GB也够用）
- 虚拟机软件 Vmware WorkStation 16 下载地址  https://zhaooolee.cowtransfer.com/s/46acd06559f04b   激活码 ZF3R0-FHED2-M80TY-8QYGC-NPKYF

- 虚拟机镜像 Ubuntu 20.04 下载地址 https://zhaooolee.cowtransfer.com/s/525fe6c45a2743



![image-20201201224150700](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201201224150700.png)



## 虚拟机安装Linux镜像的小经验

- 默认选择英语安装，这样bash路径都会保持英文（当然你可以在安装完成后，再切换到中文）
- 给虚拟机分配4GB内存，开发够用了!
- 给Ubuntu做美化挺费时间的，如果喜欢高颜值，可以直接选择Deepin

## 更换阿里源


```
// 备份源
sudo cp /etc/apt/sources.list  /etc/apt/sources.list_backup
// 编辑源
sudo vi /etc/apt/sources.list
```

将sources.list内的内容替换为以下阿里源

```
deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
```
更新镜像

```
sudo apt update
```

安装vim

```
sudo apt install vim -y
```


安装git


```
sudo apt install git -y
```


安装zsh


```
sudo apt install zsh -y
```

安装curl (为下一步下载oh-my-zsh做准备)

```
sudo apt install curl -y
```

安装oh-my-zsh (这里我使用了gitee镜像源)

```
sh -c "$(curl -fsSL https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)"
```


安装nvm  (这里我使用了gitee镜像源)

```
curl -o- https://gitee.com/mirrors/nvm/raw/master/install.sh | bash
```

安装Node.js 14

```
nvm install 14.0.0
```

使用Node.js 14

```
// 开始使用Node.js 14
nvm use 14.0.0
// 设置默认Node.js版本为14
nvm alias default 14.0.0
// 查看Node.js版本
node -v
```

![image-20201202093354699](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202093354699.png)



安装npm

```
sudo apt install npm -y
```

如果 npm install  出现错误，则运行以下命令

```
// INSTALL GLOBAL NPM PACKAGES
npm config set unsafe-perm true

// CLEAN CACHE
npm cache clean

// BYPASS SYMLINK ISSUES
npm install --no-bin-links
```



前端常用命令行工具

```
// 通过命令行简单开启http-server服务
npm install -g http-server
// 可以监控文件变化,自动重启Node.js服务的命令行工具
npm install -g nodemon
```



## 我们试用snap替代apt安装应用软件

snap可以同时运行多个安装命令,比如在终端窗口1 运行`sudo snap install postman` 的同时,在终端窗口2 运行 `sudo snap install chromium`



安装Postman (接口测试)

![image-20201202101011147](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202101011147.png)

```
sudo snap install postman
```

安装Chrome 开发者版本 (浏览器必须有)

![image-20201202101002134](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202101002134.png)

```
sudo snap install chromium
```

安装网易云音乐 (Linux最好的音乐软件)

![image-20201202100944045](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202100944045.png)



![image-20201202112451783](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202112451783.png)

```
sudo snap install netease-music --devmode --beta
```

安装WebStorm (前端开发)

![image-20201202100924288](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202100924288.png)





```
sudo snap install webstorm --classic
```

jetbrain系列激活码: 

```
E70JHCOV2H-eyJsaWNlbnNlSWQiOiJFNzBKSENPVjJIIiwibGljZW5zZWVOYW1lIjoi5bGx5Lic55CG5bel5aSn5a2mIiwiYXNzaWduZWVOYW1lIjoiIiwiYXNzaWduZWVFbWFpbCI6IiIsImxpY2Vuc2VSZXN0cmljdGlvbiI6IkZvciBlZHVjYXRpb25hbCB1c2Ugb25seSIsImNoZWNrQ29uY3VycmVudFVzZSI6ZmFsc2UsInByb2R1Y3RzIjpbeyJjb2RlIjoiSUkiLCJwYWlkVXBUbyI6IjIwMjEtMDItMTgifSx7ImNvZGUiOiJBQyIsInBhaWRVcFRvIjoiMjAyMS0wMi0xOCJ9LHsiY29kZSI6IkRQTiIsInBhaWRVcFRvIjoiMjAyMS0wMi0xOCJ9LHsiY29kZSI6IlBTIiwicGFpZFVwVG8iOiIyMDIxLTAyLTE4In0seyJjb2RlIjoiR08iLCJwYWlkVXBUbyI6IjIwMjEtMDItMTgifSx7ImNvZGUiOiJETSIsInBhaWRVcFRvIjoiMjAyMS0wMi0xOCJ9LHsiY29kZSI6IkNMIiwicGFpZFVwVG8iOiIyMDIxLTAyLTE4In0seyJjb2RlIjoiUlMwIiwicGFpZFVwVG8iOiIyMDIxLTAyLTE4In0seyJjb2RlIjoiUkMiLCJwYWlkVXBUbyI6IjIwMjEtMDItMTgifSx7ImNvZGUiOiJSRCIsInBhaWRVcFRvIjoiMjAyMS0wMi0xOCJ9LHsiY29kZSI6IlBDIiwicGFpZFVwVG8iOiIyMDIxLTAyLTE4In0seyJjb2RlIjoiUk0iLCJwYWlkVXBUbyI6IjIwMjEtMDItMTgifSx7ImNvZGUiOiJXUyIsInBhaWRVcFRvIjoiMjAyMS0wMi0xOCJ9LHsiY29kZSI6IkRCIiwicGFpZFVwVG8iOiIyMDIxLTAyLTE4In0seyJjb2RlIjoiREMiLCJwYWlkVXBUbyI6IjIwMjEtMDItMTgifSx7ImNvZGUiOiJSU1UiLCJwYWlkVXBUbyI6IjIwMjEtMDItMTgifV0sImhhc2giOiIxNjc5MTgwMy8wIiwiZ3JhY2VQZXJpb2REYXlzIjo3LCJhdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlLCJpc0F1dG9Qcm9sb25nYXRlZCI6ZmFsc2V9-qlgtO4xVGHX/r45fIKMaR6B9pWQtucrCYVsz0o00crcAiYN1k/kSMygggYl187B0u0jeXQCe4BmQIItKL79x6NwoPn43inreVhZ88f4+Cbl+V/KGeAYeybon+7YoTs8FY4+31ANW/LwBPxkPnlErxYdQ6oc/k6mnxIOm5Nf8WjKRfYYIl5Bhmdt1gHMGgFsocCcTLLiqDUGEcPj5tUIJXwwYaeKAR3YGXm/P73QpnYR/BcGaodBN3jprQRxsS5Ia5y06rrDAJcPSZuttAFpAit/4o/gq2XzhrjaBCtOMxNzk3XEAT82glTlWQOQx6KnRq6D7WUXzd81g44aP+Dca5Q==-MIIElTCCAn2gAwIBAgIBCTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE4MTEwMTEyMjk0NloXDTIwMTEwMjEyMjk0NlowaDELMAkGA1UEBhMCQ1oxDjAMBgNVBAgMBU51c2xlMQ8wDQYDVQQHDAZQcmFndWUxGTAXBgNVBAoMEEpldEJyYWlucyBzLnIuby4xHTAbBgNVBAMMFHByb2QzeS1mcm9tLTIwMTgxMTAxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxcQkq+zdxlR2mmRYBPzGbUNdMN6OaXiXzxIWtMEkrJMO/5oUfQJbLLuMSMK0QHFmaI37WShyxZcfRCidwXjot4zmNBKnlyHodDij/78TmVqFl8nOeD5+07B8VEaIu7c3E1N+e1doC6wht4I4+IEmtsPAdoaj5WCQVQbrI8KeT8M9VcBIWX7fD0fhexfg3ZRt0xqwMcXGNp3DdJHiO0rCdU+Itv7EmtnSVq9jBG1usMSFvMowR25mju2JcPFp1+I4ZI+FqgR8gyG8oiNDyNEoAbsR3lOpI7grUYSvkB/xVy/VoklPCK2h0f0GJxFjnye8NT1PAywoyl7RmiAVRE/EKwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl/GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQAF8uc+YJOHHwOFcPzmbjcxNDuGoOUIP+2h1R75Lecswb7ru2LWWSUMtXVKQzChLNPn/72W0k+oI056tgiwuG7M49LXp4zQVlQnFmWU1wwGvVhq5R63Rpjx1zjGUhcXgayu7+9zMUW596Lbomsg8qVve6euqsrFicYkIIuUu4zYPndJwfe0YkS5nY72SHnNdbPhEnN8wcB2Kz+OIG0lih3yz5EqFhld03bGp222ZQCIghCTVL6QBNadGsiN/lWLl4JdR3lJkZzlpFdiHijoVRdWeSWqM4y0t23c92HXKrgppoSV18XMxrWVdoSM3nuMHwxGhFyde05OdDtLpCv+jlWf5REAHHA201pAU6bJSZINyHDUTB+Beo28rRXSwSh3OUIvYwKNVeoBY+KwOJ7WnuTCUq1meE6GkKc4D/cXmgpOyW/1SmBz3XjVIi/zprZ0zf3qH5mkphtg6ksjKgKjmx1cXfZAAX6wcDBNaCL+Ortep1Dh8xDUbqbBVNBL4jbiL3i3xsfNiyJgaZ5sX7i8tmStEpLbPwvHcByuf59qJhV/bZOl8KqJBETCDJcY6O2aqhTUy+9x93ThKs1GKrRPePrWPluud7ttlgtRveit/pcBrnQcXOl1rHq7ByB8CFAxNotRUYL9IF5n3wJOgkPojMy6jetQA5Ogc8Sm7RG6vg1yow==
```
激活码更新网站: [http://taojingling.cn/Jet/cdkey.html#%E4%B8%80%E3%80%81%E6%BF%80%E6%B4%BB%E7%A0%81%E6%BF%80%E6%B4%BB](http://taojingling.cn/Jet/cdkey.html#%E4%B8%80%E3%80%81%E6%BF%80%E6%B4%BB%E7%A0%81%E6%BF%80%E6%B4%BB)


安装VsCode (看代码神器)

![image-20201202101130450](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202101130450.png)

```
sudo snap install vscode --classic
```

安装Typora (写Markdown必备)

![image-20201202102309890](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202102309890.png)

```
sudo snap install typora --classic
```

## 安装官方QQ Linux (deb安装包安装)

![image-20201202112031712](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202112031712.png)


```
wget http://down.qq.com/qqweb/LinuxQQ/linuxqq_2.0.0-b2-1084_amd64.deb
sudo dpkg -i linuxqq_2.0.0-b2-1084_amd64.deb
```





## 命令行「逼装」软件

安装htop(查看系统进程)



```
sudo apt install htop -y
```



![image-20201202112716734](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202112716734.png)



```
# 运行
htop
# 退出
q
```





黑客帝国动态字符雨

```
sudo apt-get install cmatrix -y
```

![image-20201202113042822](https://www.v2fy.com/asset/0i/jikemiji/jikemiji-md/2020-12-02-ubuntu20-dev.assets/image-20201202113042822.png)

```
# 运行
cmatrix
# 退出
q
```





## 小结


整体体验下来, Ubuntu20.04部署开发环境还是蛮顺滑的;

有些应用软件的支持并不完美, 比如微软的Edge浏览器开发版就出现了白屏的现象, 不过有FireFox和Chrome开发版,上网冲浪和开发也完全够用了。





